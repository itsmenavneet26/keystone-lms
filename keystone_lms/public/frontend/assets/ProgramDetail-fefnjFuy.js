import{d as y,x as v,y as N,z as C,c as P,A as $,a as n,b as i,e as c,u as e,t as l,w as p,a2 as w,l as z,_ as M,f as m,F as _,r as B,q as D,i as L,E as S,o as s,k as V,I as j,n as E,aT as I}from"./index-H4DTv6Le.js";import{_ as F}from"./CourseCard-BbwRDLnH.js";import{_ as R}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-CKfttt8M.js";import"./CourseInstructors-CmNKc7w9.js";import"./UserAvatar-BNFxJ-NV.js";const T={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},q={key:0,class:"pt-5 px-5 pb-10 mx-auto"},A={class:"flex items-center space-x-2 mb-5"},K={class:"text-lg font-semibold text-ink-gray-9"},Y={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 mb-5"},G={key:0,class:"absolute inset-0 flex flex-col items-center justify-center space-y-2 text-ink-white rounded-md invisible group-hover:visible",style:{background:"radial-gradient(circle, darkgray 0%, lightgray 100%)"}},H={class:"font-medium text-center leading-5 px-10"},Z=y({__name:"ProgramDetail",props:{programName:{}},setup(g){const{brand:f}=v(),d=D(),h=L("$user"),t=g;N(()=>{b()});const b=()=>{C("frappe.client.get_value",{doctype:"LMS Program Member",filters:{member:h.data.name,parent:t.programName},parent:"LMS Program",fieldname:"name"}).then(r=>{r.name?a.reload():d.push({name:"Programs"})})},a=P({url:"lms.lms.utils.get_program_details",params:{program_name:t.programName}}),x=(r,u)=>{!r.eligible&&u||d.push({name:"CourseDetail",params:{courseName:r.name}})},k=S(()=>[{label:__("Programs"),route:{name:"Programs"}},{label:t.programName,route:{name:"ProgramDetail",params:{programName:t.programName}}}]);return $(()=>({title:t.programName,icon:f.favicon})),(r,u)=>(s(),n(_,null,[i("header",T,[c(e(R),{items:k.value},null,8,["items"])]),e(a).data?(s(),n("div",q,[i("div",A,[i("div",K,l(e(a).data.name),1),c(e(w),{theme:e(a).data.progress<100?"orange":"green"},{default:p(()=>[V(l(e(a).data.progress)+"% "+l(r.__("completed")),1)]),_:1},8,["theme"]),e(a).data.enforce_course_order?(s(),z(e(M),{key:0,placement:"right",text:r.__("Courses must be completed in order. You can only start the next course after completing the previous one.")},{default:p(()=>[c(e(j),{class:"size-3 cursor-pointer"})]),_:1},8,["text"])):m("",!0)]),i("div",Y,[(s(!0),n(_,null,B(e(a).data.courses,o=>(s(),n("div",{key:o.name,class:E(["relative group",o.eligible&&e(a).data.enforce_course_order||!e(a).data.enforce_course_order?"cursor-pointer":"cursor-default"])},[c(F,{course:o,onClick:J=>x(o,e(a).data.enforce_course_order)},null,8,["course","onClick"]),!o.eligible&&e(a).data.enforce_course_order?(s(),n("div",G,[c(e(I),{class:"size-5"}),i("span",H,l(r.__("Please complete the previous course to unlock this one.")),1)])):m("",!0)],2))),128))])])):m("",!0)],64))}});export{Z as default};
//# sourceMappingURL=ProgramDetail-fefnjFuy.js.map
