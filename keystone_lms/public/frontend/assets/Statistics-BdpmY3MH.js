import{x,c as n,A as v,o,a as y,b as i,e as s,u as t,w as l,_ as c,l as m,f as d,E as k}from"./index-H4DTv6Le.js";import{_ as w}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-CKfttt8M.js";import{_ as u}from"./NumberChart.vue_vue_type_script_setup_true_lang-BozXaeJ9.js";import{_}from"./AxisChart.vue_vue_type_script_setup_true_lang-CnJJCsjX.js";import{_ as D}from"./DonutChart.vue_vue_type_script_setup_true_lang-a2xPBmC8.js";import"./eChartOptions-9LlNrXtG.js";import"./ECharts.vue_vue_type_script_setup_true_lang-52ImNGXD.js";const S={class:""},A={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},E={key:0,class:"p-5"},P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},$={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4"},B={class:"border rounded-md min-h-72"},N={class:"border rounded-md min-h-72"},G={class:"border rounded-md"},M={class:"border rounded-md"},J={__name:"Statistics",setup(V){const{brand:b}=x(),C=k(()=>[{label:__("Statistics"),route:{name:"Statistics"}}]),r=n({url:"lms.lms.api.get_chart_details",cache:["statistics"],auto:!0}),f=n({url:"lms.lms.utils.get_chart_data",params:{chart_name:"New Signups"},auto:!0,transform(e){return e.map(a=>({date:new Date(a.date),signups:a.count}))}}),p=n({url:"lms.lms.utils.get_chart_data",cache:["enrollments"],params:{chart_name:"Course Enrollments"},auto:!0,transform(e){return e.map(a=>({date:new Date(a.date),enrollments:a.count}))}}),g=n({url:"lms.lms.utils.get_chart_data",cache:["certifications"],params:{chart_name:"Certification"},auto:!0,transform(e){return e.map(a=>({date:new Date(a.date),certifications:a.count}))}}),h=n({url:"lms.lms.utils.get_course_completion_data",auto:!0,cache:["courseCompletion"]});return v(()=>({title:__("Statistics"),icon:b.favicon})),(e,a)=>(o(),y("div",S,[i("header",A,[s(t(w),{class:"h-7",items:C.value},null,8,["items"])]),t(r).data?(o(),y("div",E,[i("div",P,[s(t(c),{text:e.__("Published Courses")},{default:l(()=>[s(t(u),{class:"border rounded-md",config:{title:"Courses",value:t(r).data.courses}},null,8,["config"])]),_:1},8,["text"]),s(t(c),{text:e.__("Active Members")},{default:l(()=>[s(t(u),{class:"border rounded-md",config:{title:"Signups",value:t(r).data.users}},null,8,["config"])]),_:1},8,["text"]),s(t(c),{text:e.__("Course Enrollments")},{default:l(()=>[s(t(u),{class:"border rounded-md",config:{title:"Enrollments",value:t(r).data.enrollments}},null,8,["config"])]),_:1},8,["text"]),s(t(c),{text:e.__("Course Completions")},{default:l(()=>[s(t(u),{class:"border rounded-md",config:{title:"Completions",value:t(r).data.completions}},null,8,["config"])]),_:1},8,["text"]),s(t(c),{text:e.__("Certified Members")},{default:l(()=>[s(t(u),{class:"border rounded-md",config:{title:"Certifications",value:t(r).data.certifications}},null,8,["config"])]),_:1},8,["text"])]),i("div",$,[i("div",B,[t(f).data?(o(),m(t(_),{key:0,config:{data:t(f).data,title:"Signups",subtitle:"Signups per day",xAxis:{key:"date",type:"time",title:"Date",timeGrain:"day"},yAxis:{title:"Signups"},series:[{name:"signups",type:"line",showDataPoints:!0}]}},null,8,["config"])):d("",!0)]),i("div",N,[t(p).data?(o(),m(t(_),{key:0,config:{data:t(p).data,title:"Enrollments",subtitle:"Enrollments per day",xAxis:{key:"date",type:"time",title:"Date",timeGrain:"day"},yAxis:{title:"Enrollments"},series:[{name:"enrollments",type:"line",showDataPoints:!0}]}},null,8,["config"])):d("",!0)]),i("div",G,[t(g).data?(o(),m(t(_),{key:0,config:{data:t(g).data,title:"Certifications",subtitle:"Certifications per day",xAxis:{key:"date",type:"time",title:"Date",timeGrain:"day"},yAxis:{title:"Certifications"},series:[{name:"certifications",type:"line",showDataPoints:!0}]}},null,8,["config"])):d("",!0)]),i("div",M,[t(h).data?(o(),m(t(D),{key:0,config:{data:t(h).data,title:"Completions",subtitle:"Course Completion",categoryColumn:"label",valueColumn:"value"}},null,8,["config"])):d("",!0)])])])):d("",!0)]))}};export{J as default};
//# sourceMappingURL=Statistics-BdpmY3MH.js.map
