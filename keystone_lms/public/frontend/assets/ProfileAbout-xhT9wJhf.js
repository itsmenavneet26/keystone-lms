import{x as $,c as L,o as r,a as l,b as e,t as a,u as o,c8 as D,c9 as M,F as x,r as T,e as c,w as _,k as y,p as v,c6 as A,c5 as Y,aq as B,f as k,ao as C,i as I,aW as N}from"./index-H4DTv6Le.js";const S={class:"mt-7 mb-10"},j={class:"mb-3 text-lg font-semibold text-ink-gray-9"},O=["innerHTML"],E={key:1,class:"text-ink-gray-7 text-sm italic"},R={key:0,class:"mt-7 mb-10"},V={class:"mb-3 text-lg font-semibold text-ink-gray-9"},z={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},W={class:"relative"},q=["src","alt"],F={key:0,class:"flex items-end bg-surface-gray-2 p-2 text-xs font-semibold rounded-full absolute right-0 bottom-0"},H={class:"w-[250px] text-base"},P={class:"bg-surface-gray-2 rounded-t-md py-5"},U=["src","alt"],G={class:"p-5"},X={class:"text-2xl font-semibold mb-2"},J={class:"leading-5 mb-4"},K={class:"flex flex-col mb-4"},Q={class:"text-xs text-ink-gray-7 font-medium mb-1"},Z={class:"flex flex-col"},ee={class:"text-xs text-ink-gray-7 font-medium mb-1"},te={class:"flex items-center space-x-2"},se={class:"text-xs"},ae={class:"text-xs"},ie={__name:"ProfileAbout",props:{profile:{type:Object,required:!0}},setup(m){const u=I("$dayjs"),{branding:w}=$(),p=m,g=L({url:"frappe.client.get_list",params:{doctype:"LMS Badge Assignment",fields:["name","badge","badge_image","badge_description","issued_on"],filters:{member:p.profile.data.name}},auto:!0,transform(s){let d=[],i=Object.groupBy(s,({badge:t})=>t);for(let t in i){let n=i[t][0];n.count=i[t].length,d.push(n)}return d}}),h=(s,d)=>{var f,b;let i;const t=encodeURIComponent(`${window.location.origin}${N(`badges/${s.badge}/${(f=p.profile.data)==null?void 0:f.email}`)}`),n=`I am happy to announce that I earned the ${s.badge} badge on ${u(s.issued_on).format("DD MMM YYYY")} at ${(b=w.data)==null?void 0:b.app_name}.`;d=="LinkedIn"?i=`https://www.linkedin.com/shareArticle?mini=true&url=${t}&text=${n}`:d=="Twitter"&&(i=`https://twitter.com/intent/tweet?text=${n}&url=${t}`),window.open(i,"_blank")};return(s,d)=>{var i;return r(),l(x,null,[e("div",S,[e("h2",j,a(s.__("About")),1),m.profile.data.bio?(r(),l("div",{key:0,innerHTML:o(D).sanitize(o(M)(m.profile.data.bio),{ALLOWED_TAGS:["b","i","em","strong","a","p","br","ul","ol","li","img"],ALLOWED_ATTR:["href","target","rel","src"]}),class:"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal"},null,8,O)):(r(),l("div",E,a(s.__("No introduction")),1))]),(i=o(g).data)!=null&&i.length?(r(),l("div",R,[e("h2",V,a(s.__("Achievements")),1),e("div",z,[(r(!0),l(x,null,T(o(g).data,t=>(r(),l("div",null,[c(o(C),{trigger:"hover",leaveDelay:.01},{target:_(()=>[e("div",W,[e("img",{src:t.badge_image,alt:t.badge,class:"h-[80px]"},null,8,q),t.count>1?(r(),l("div",F,[e("span",null,[c(o(B),{class:"w-3 h-3"})]),y(" "+a(t.count),1)])):k("",!0)])]),"body-main":_(()=>[e("div",H,[e("div",P,[e("img",{src:t.badge_image,alt:t.badge,class:"h-[200px] mx-auto"},null,8,U)]),e("div",G,[e("div",X,a(t.badge),1),e("div",J,a(t.badge_description),1),e("div",K,[e("span",Q,a(s.__("Issued on"))+": ",1),y(" "+a(o(u)(t.issued_on).format("DD MMM YYYY")),1)]),e("div",Z,[e("span",ee,a(s.__("Share on"))+": ",1),e("div",te,[c(o(v),{variant:"outline",size:"sm",onClick:n=>h(t,"LinkedIn")},{prefix:_(()=>[c(o(A),{class:"h-3 w-3 text-ink-gray-7"})]),default:_(()=>[e("span",se,a(s.__("LinkedIn")),1)]),_:1},8,["onClick"]),c(o(v),{variant:"outline",size:"sm",onClick:n=>h(t,"Twitter")},{prefix:_(()=>[c(o(Y),{class:"h-3 w-3 text-ink-gray-7"})]),default:_(()=>[e("span",ae,a(s.__("Twitter")),1)]),_:1},8,["onClick"])])])])])]),_:2},1032,["leaveDelay"])]))),256))])])):k("",!0)],64)}}};export{ie as default};
//# sourceMappingURL=ProfileAbout-xhT9wJhf.js.map
