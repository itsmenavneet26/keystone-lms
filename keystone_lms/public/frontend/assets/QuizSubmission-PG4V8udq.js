import{x as h,y as S,K as z,as as M,T as x,A as L,o as i,a as r,b as l,u as s,l as f,f as c,a2 as q,e as n,w as U,k as w,t as u,p as $,N as d,F as g,r as D,i as N,q as Q,E as T}from"./index-H4DTv6Le.js";import{_ as B}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-CKfttt8M.js";const E={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},C={class:"space-x-2"},H={key:0,class:"w-2/3 border-x mx-auto py-5"},K={class:"text-xl px-10 font-semibold text-ink-gray-9 mb-5"},P={class:"space-y-4 border-b pb-5 px-10"},j={class:"grid grid-cols-2 gap-5"},A={class:"grid grid-cols-2 gap-5"},F={class:"divide-y"},R={class:"py-5 px-10 space-y-4"},I={class:"text-ink-gray-9"},G={class:"font-semibold"},J=["innerHTML"],O={class:"text-ink-gray-9"},W={class:"font-semibold"},X=["innerHTML"],Y={class:"grid grid-cols-2 gap-5"},oe={__name:"QuizSubmission",props:{submission:{type:String,required:!0}},setup(v){const{brand:y}=h(),V=Q(),_=N("$user");S(()=>{var e,o;!((e=_.data)!=null&&e.is_instructor)&&!((o=_.data)!=null&&o.is_moderator)&&V.push({name:"Courses"}),window.addEventListener("keydown",b)}),z(()=>{window.removeEventListener("keydown",b)});const b=e=>{e.key==="s"&&(e.ctrlKey||e.metaKey)&&!e.target.classList.contains("ProseMirror")&&(p(),e.preventDefault())},a=M({doctype:"LMS Quiz Submission",name:v.submission,auto:!0}),k=T(()=>[{label:__("Quiz Submissions"),route:{name:"QuizSubmissionList",params:{quizID:a.doc.quiz}}},{label:a.doc.quiz_title}]),p=()=>{a.save.submit({},{onError(e){var o;x.error(((o=e.messages)==null?void 0:o[0])||e)}})};return L(()=>{var e;return{title:`${(e=a.doc)==null?void 0:e.quiz_title}`,icon:y.favicon}}),(e,o)=>(i(),r(g,null,[l("header",E,[s(a).doc?(i(),f(s(B),{key:0,items:k.value},null,8,["items"])):c("",!0),l("div",C,[s(a).isDirty?(i(),f(s(q),{key:0,label:e.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):c("",!0),n(s($),{variant:"solid",onClick:o[0]||(o[0]=t=>p())},{default:U(()=>[w(u(e.__("Save")),1)]),_:1})])]),s(a).doc?(i(),r("div",H,[l("div",K,u(s(a).doc.member_name),1),l("div",P,[l("div",j,[n(s(d),{modelValue:s(a).doc.quiz_title,"onUpdate:modelValue":o[1]||(o[1]=t=>s(a).doc.quiz_title=t),label:e.__("Quiz"),disabled:!0},null,8,["modelValue","label"]),n(s(d),{modelValue:s(a).doc.member_name,"onUpdate:modelValue":o[2]||(o[2]=t=>s(a).doc.member_name=t),label:e.__("Member"),disabled:!0},null,8,["modelValue","label"])]),l("div",A,[n(s(d),{modelValue:s(a).doc.score,"onUpdate:modelValue":o[3]||(o[3]=t=>s(a).doc.score=t),label:e.__("Score"),disabled:!0},null,8,["modelValue","label"]),n(s(d),{modelValue:s(a).doc.percentage,"onUpdate:modelValue":o[4]||(o[4]=t=>s(a).doc.percentage=t),label:e.__("Percentage"),disabled:!0},null,8,["modelValue","label"])])]),l("div",F,[(i(!0),r(g,null,D(s(a).doc.result,(t,ee)=>(i(),r("div",R,[l("div",I,[l("span",G,u(e.__("Question"))+": ",1),l("span",{class:"leading-5",innerHTML:t.question},null,8,J)]),l("div",O,[l("span",W,u(e.__("Answer"))+": ",1),l("span",{class:"leading-5",innerHTML:t.answer},null,8,X)]),l("div",Y,[n(s(d),{modelValue:t.marks,"onUpdate:modelValue":m=>t.marks=m,label:e.__("Marks")},null,8,["modelValue","onUpdate:modelValue","label"]),n(s(d),{modelValue:t.marks_out_of,"onUpdate:modelValue":m=>t.marks_out_of=m,label:e.__("Marks out of"),disabled:!0},null,8,["modelValue","onUpdate:modelValue","label"])])]))),256))])])):c("",!0)],64))}};export{oe as default};
//# sourceMappingURL=QuizSubmission-PG4V8udq.js.map
