import{u as h}from"./eChartOptions-9LlNrXtG.js";import{m,f as b}from"./NumberChart.vue_vue_type_script_setup_true_lang-BozXaeJ9.js";import{_ as w}from"./ECharts.vue_vue_type_script_setup_true_lang-52ImNGXD.js";import{d as S,o as f,l as O,B as _,E as v}from"./index-H4DTv6Le.js";function k(e){const s=e.data||[],r=h(e);if(e.xAxis.type==="time"&&e.swapXY)throw new Error("Swap axes is not supported for time series data");if(e.series.find(t=>t.axis==="y2"||t.type!=="bar")&&e.swapXY)throw new Error("Swap axes is not supported for non-bar series or y2 axis");const a=e.swapXY,n=e.series.slice().reverse().findIndex(t=>t.type==="bar");return e.series.some(t=>t.axis==="y2")&&(r.yAxis[1].show=!0),r.series=e.series.map((t,c)=>{let y="top";t.type=="bar"&&e.stacked&&(y=c==n?"top":"inside"),t.type=="bar"&&a&&(y="right");const x={type:t.type,name:t.name,data:s.map(o=>{let p,i;return a?(p=o[t.name],i=o[e.xAxis.key]):(p=o[e.xAxis.key],i=o[t.name]),[p,i]}),yAxisIndex:t.axis==="y2"?1:0,label:{show:t.showDataLabels,position:y,formatter:o=>{var i,d;const p=a?(i=o.value)==null?void 0:i[0]:(d=o.value)==null?void 0:d[1];return b(p,1,!0)},fontSize:11},labelLayout:{hideOverlap:!0},itemStyle:{color:t.color}};let l={};return t.type==="bar"&&(l=A(e,t)),t.type==="line"&&(l=B(e,t)),t.type==="area"&&(l=I(e,t)),m(x,l,t.echartOptions)}),m(r,e.echartOptions)}function A(e,s){const r=e.swapXY?[0,2,2,0]:[2,2,0,0],a=e.series.findIndex(t=>t.name===s.name),u=e.series.slice().reverse().findIndex(t=>t.type==="bar")===a;return{stack:e.stacked?"stack":void 0,barMaxWidth:60,itemStyle:{borderRadius:e.stacked?u?r:0:r}}}function B(e,s){return{connectNulls:!0,symbol:"circle",symbolSize:7,showSymbol:s.showDataPoints||s.showDataLabels,emphasis:{},lineStyle:{width:s.lineWidth||2,type:s.lineType}}}function I(e,s){return{type:"line",showSymbol:s.showDataPoints,areaStyle:{color:s.color,opacity:s.fillOpacity||.5}}}const C=S({__name:"AxisChart",props:{config:{}},setup(e){const s=e,r=_(""),a=v(()=>{try{return k(s.config)}catch(n){return r.value=n.message,{}}});return(n,u)=>(f(),O(w,{options:a.value,error:r.value},null,8,["options","error"]))}});export{C as _};
//# sourceMappingURL=AxisChart.vue_vue_type_script_setup_true_lang-CnJJCsjX.js.map
