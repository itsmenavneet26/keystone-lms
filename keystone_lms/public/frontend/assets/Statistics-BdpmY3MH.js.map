{"version":3,"file":"Statistics-BdpmY3MH.js","sources":["../../../../frontend/src/pages/Statistics.vue"],"sourcesContent":["<template>\n\t<div class=\"\">\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t\t>\n\t\t\t<Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\t\t</header>\n\t\t<div v-if=\"chartDetails.data\" class=\"p-5\">\n\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n\t\t\t\t<Tooltip :text=\"__('Published Courses')\">\n\t\t\t\t\t<NumberChart\n\t\t\t\t\t\tclass=\"border rounded-md\"\n\t\t\t\t\t\t:config=\"{ title: 'Courses', value: chartDetails.data.courses }\"\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip :text=\"__('Active Members')\">\n\t\t\t\t\t<NumberChart\n\t\t\t\t\t\tclass=\"border rounded-md\"\n\t\t\t\t\t\t:config=\"{ title: 'Signups', value: chartDetails.data.users }\"\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip :text=\"__('Course Enrollments')\">\n\t\t\t\t\t<NumberChart\n\t\t\t\t\t\tclass=\"border rounded-md\"\n\t\t\t\t\t\t:config=\"{\n\t\t\t\t\t\t\ttitle: 'Enrollments',\n\t\t\t\t\t\t\tvalue: chartDetails.data.enrollments,\n\t\t\t\t\t\t}\"\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip :text=\"__('Course Completions')\">\n\t\t\t\t\t<NumberChart\n\t\t\t\t\t\tclass=\"border rounded-md\"\n\t\t\t\t\t\t:config=\"{\n\t\t\t\t\t\t\ttitle: 'Completions',\n\t\t\t\t\t\t\tvalue: chartDetails.data.completions,\n\t\t\t\t\t\t}\"\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip :text=\"__('Certified Members')\">\n\t\t\t\t\t<NumberChart\n\t\t\t\t\t\tclass=\"border rounded-md\"\n\t\t\t\t\t\t:config=\"{\n\t\t\t\t\t\t\ttitle: 'Certifications',\n\t\t\t\t\t\t\tvalue: chartDetails.data.certifications,\n\t\t\t\t\t\t}\"\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t\t<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4\">\n\t\t\t\t<div class=\"border rounded-md min-h-72\">\n\t\t\t\t\t<AxisChart\n\t\t\t\t\t\tv-if=\"signupsChart.data\"\n\t\t\t\t\t\t:config=\"{\n\t\t\t\t\t\t\tdata: signupsChart.data,\n\t\t\t\t\t\t\ttitle: 'Signups',\n\t\t\t\t\t\t\tsubtitle: 'Signups per day',\n\t\t\t\t\t\t\txAxis: {\n\t\t\t\t\t\t\t\tkey: 'date',\n\t\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\t\ttitle: 'Date',\n\t\t\t\t\t\t\t\ttimeGrain: 'day',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tyAxis: {\n\t\t\t\t\t\t\t\ttitle: 'Signups',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tseries: [{ name: 'signups', type: 'line', showDataPoints: true }],\n\t\t\t\t\t\t}\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"border rounded-md min-h-72\">\n\t\t\t\t\t<AxisChart\n\t\t\t\t\t\tv-if=\"enrollmentChart.data\"\n\t\t\t\t\t\t:config=\"{\n\t\t\t\t\t\t\tdata: enrollmentChart.data,\n\t\t\t\t\t\t\ttitle: 'Enrollments',\n\t\t\t\t\t\t\tsubtitle: 'Enrollments per day',\n\t\t\t\t\t\t\txAxis: {\n\t\t\t\t\t\t\t\tkey: 'date',\n\t\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\t\ttitle: 'Date',\n\t\t\t\t\t\t\t\ttimeGrain: 'day',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tyAxis: {\n\t\t\t\t\t\t\t\ttitle: 'Enrollments',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tseries: [\n\t\t\t\t\t\t\t\t{ name: 'enrollments', type: 'line', showDataPoints: true },\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"border rounded-md\">\n\t\t\t\t\t<AxisChart\n\t\t\t\t\t\tv-if=\"certification.data\"\n\t\t\t\t\t\t:config=\"{\n\t\t\t\t\t\t\tdata: certification.data,\n\t\t\t\t\t\t\ttitle: 'Certifications',\n\t\t\t\t\t\t\tsubtitle: 'Certifications per day',\n\t\t\t\t\t\t\txAxis: {\n\t\t\t\t\t\t\t\tkey: 'date',\n\t\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\t\ttitle: 'Date',\n\t\t\t\t\t\t\t\ttimeGrain: 'day',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tyAxis: {\n\t\t\t\t\t\t\t\ttitle: 'Certifications',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tseries: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'certifications',\n\t\t\t\t\t\t\t\t\ttype: 'line',\n\t\t\t\t\t\t\t\t\tshowDataPoints: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"border rounded-md\">\n\t\t\t\t\t<DonutChart\n\t\t\t\t\t\tv-if=\"courseCompletion.data\"\n\t\t\t\t\t\t:config=\"{\n\t\t\t\t\t\t\tdata: courseCompletion.data,\n\t\t\t\t\t\t\ttitle: 'Completions',\n\t\t\t\t\t\t\tsubtitle: 'Course Completion',\n\t\t\t\t\t\t\tcategoryColumn: 'label',\n\t\t\t\t\t\t\tvalueColumn: 'value',\n\t\t\t\t\t\t}\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tAxisChart,\n\tBreadcrumbs,\n\tcreateResource,\n\tDonutChart,\n\tNumberChart,\n\tTooltip,\n\tusePageMeta,\n} from 'frappe-ui'\nimport { computed } from 'vue'\nimport { sessionStore } from '../stores/session'\n\nconst { brand } = sessionStore()\n\nconst breadcrumbs = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Statistics'),\n\t\t\troute: {\n\t\t\t\tname: 'Statistics',\n\t\t\t},\n\t\t},\n\t]\n})\n\nconst chartDetails = createResource({\n\turl: 'lms.lms.api.get_chart_details',\n\tcache: ['statistics'],\n\tauto: true,\n})\n\nconst signupsChart = createResource({\n\turl: 'lms.lms.utils.get_chart_data',\n\tparams: {\n\t\tchart_name: 'New Signups',\n\t},\n\tauto: true,\n\ttransform(data) {\n\t\treturn data.map((item) => {\n\t\t\treturn {\n\t\t\t\tdate: new Date(item.date),\n\t\t\t\tsignups: item.count,\n\t\t\t}\n\t\t})\n\t},\n})\n\nconst enrollmentChart = createResource({\n\turl: 'lms.lms.utils.get_chart_data',\n\tcache: ['enrollments'],\n\tparams: {\n\t\tchart_name: 'Course Enrollments',\n\t},\n\tauto: true,\n\ttransform(data) {\n\t\treturn data.map((item) => {\n\t\t\treturn {\n\t\t\t\tdate: new Date(item.date),\n\t\t\t\tenrollments: item.count,\n\t\t\t}\n\t\t})\n\t},\n})\n\nconst certification = createResource({\n\turl: 'lms.lms.utils.get_chart_data',\n\tcache: ['certifications'],\n\tparams: {\n\t\tchart_name: 'Certification',\n\t},\n\tauto: true,\n\ttransform(data) {\n\t\treturn data.map((item) => {\n\t\t\treturn {\n\t\t\t\tdate: new Date(item.date),\n\t\t\t\tcertifications: item.count,\n\t\t\t}\n\t\t})\n\t},\n})\n\nconst courseCompletion = createResource({\n\turl: 'lms.lms.utils.get_course_completion_data',\n\tauto: true,\n\tcache: ['courseCompletion'],\n})\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: __('Statistics'),\n\t\ticon: brand.favicon,\n\t}\n})\n</script>\n"],"names":["brand","sessionStore","breadcrumbs","computed","chartDetails","createResource","signupsChart","data","item","enrollmentChart","certification","courseCompletion","usePageMeta","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_unref","Breadcrumbs","_hoisted_3","_hoisted_4","Tooltip","__","NumberChart","_hoisted_5","_hoisted_6","_createBlock","AxisChart","_hoisted_7","_hoisted_8","_hoisted_9","DonutChart"],"mappings":"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"}