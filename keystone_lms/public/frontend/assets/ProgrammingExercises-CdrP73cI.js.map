{"version":3,"file":"ProgrammingExercises-CdrP73cI.js","sources":["../../../../frontend/src/components/Controls/ChildTable.vue","../../../../frontend/src/pages/ProgrammingExercises/ProgrammingExerciseForm.vue","../../../../frontend/src/pages/ProgrammingExercises/ProgrammingExercises.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"text-xs text-ink-gray-5 mb-2\">\n\t\t\t{{ label }}\n\t\t</div>\n\t\t<div class=\"overflow-visible border border-outline-gray-modals rounded-md\">\n\t\t\t<div class=\"overflow-x-auto\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"grid items-center space-x-4 p-2 border-b border-outline-gray-modals\"\n\t\t\t\t\t:style=\"{ gridTemplateColumns: getGridTemplateColumns() }\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"(column, index) in columns\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"text-sm text-ink-gray-5\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ column }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(row, rowIndex) in rows\"\n\t\t\t\t\t:key=\"rowIndex\"\n\t\t\t\t\tclass=\"grid items-center space-x-4 p-2\"\n\t\t\t\t\t:style=\"{ gridTemplateColumns: getGridTemplateColumns() }\"\n\t\t\t\t>\n\t\t\t\t\t<template v-for=\"key in Object.keys(row)\" :key=\"key\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tv-if=\"showKey(key)\"\n\t\t\t\t\t\t\tv-model=\"row[key]\"\n\t\t\t\t\t\t\tclass=\"py-1.5 px-2 w-full border-none bg-transparent text-ink-gray-8 focus:ring-0 focus:border focus:border-outline-gray-3 focus:bg-surface-gray-2 rounded-md text-sm focus:outline-none\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t@click=\"(event: MouseEvent) => toggleMenu(rowIndex, event)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<Ellipsis\n\t\t\t\t\t\t\t\t\tclass=\"size-4 text-ink-gray-7 stroke-1.5 cursor-pointer\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"menuOpenIndex === rowIndex\"\n\t\t\t\t\t\t\tref=\"menuRef\"\n\t\t\t\t\t\t\tclass=\"absolute right-0 w-32 z-50 bg-surface-modal border border-outline-gray-modals rounded-md shadow-sm\"\n\t\t\t\t\t\t\t:class=\"\n\t\t\t\t\t\t\t\trowIndex == (rows?.length ?? 0) - 1\n\t\t\t\t\t\t\t\t\t? 'bottom-full mb-1'\n\t\t\t\t\t\t\t\t\t: 'top-full mt-1'\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t@click=\"deleteRow(rowIndex)\"\n\t\t\t\t\t\t\t\tclass=\"flex items-center space-x-2 w-full text-left px-3 py-2 text-sm text-ink-red-3\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Trash2 class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{{ __('Delete') }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"mt-2\">\n\t\t\t<Button @click=\"addRow\">\n\t\t\t\t<template #prefix>\n\t\t\t\t\t<Plus class=\"size-4 text-ink-gray-7\" />\n\t\t\t\t</template>\n\t\t\t\t{{ __('Add Row') }}\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { nextTick, ref, watch } from 'vue'\nimport { Button } from 'frappe-ui'\nimport { Ellipsis, Plus, Trash2 } from 'lucide-vue-next'\nimport { onClickOutside } from '@vueuse/core'\n\nconst rows = defineModel<Record<string, string>[]>()\nconst menuRef = ref(null)\nconst menuOpenIndex = ref<number | null>(null)\nconst menuTopPosition = ref<string>('')\nconst menuLeftPosition = ref('0px')\n\nconst emit = defineEmits<{\n\t(e: 'update:modelValue', value: Record<string, string>[]): void\n}>()\n\ntype Cell = {\n\tvalue: string\n\teditable?: boolean\n}\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\tmodelValue?: Record<string, string>[]\n\t\tcolumns?: string[]\n\t\tlabel?: string\n\t}>(),\n\t{\n\t\tcolumns: () => [] as string[],\n\t}\n)\n\nconst columns = ref(props.columns)\n\nwatch(rows, () => {\n\tif (rows.value && rows.value.length < 1) {\n\t\taddRow()\n\t}\n})\n\nconst addRow = () => {\n\tif (!rows.value) {\n\t\trows.value = []\n\t}\n\tlet newRow: { [key: string]: string } = {}\n\tcolumns.value.forEach((column: any) => {\n\t\tnewRow[column.toLowerCase().split(' ').join('_')] = ''\n\t})\n\trows.value.push(newRow)\n\tfocusNewRowInput()\n\temit('update:modelValue', rows.value)\n}\n\nconst focusNewRowInput = () => {\n\tnextTick(() => {\n\t\tconst rowElements = document.querySelectorAll('.overflow-x-auto .grid')[\n\t\t\trows.value!.length\n\t\t]\n\t\tconst firstInput = rowElements.querySelector('input')\n\t\tif (firstInput) {\n\t\t\t;(firstInput as HTMLInputElement).focus()\n\t\t}\n\t})\n}\n\nconst deleteRow = (index: number) => {\n\trows.value?.splice(index, 1)\n\temit('update:modelValue', rows.value ?? [])\n}\n\nconst getGridTemplateColumns = () => {\n\treturn [...Array(columns.value.length).fill('1fr'), '0.25fr'].join(' ')\n}\n\nconst toggleMenu = (index: number, event: MouseEvent) => {\n\tmenuOpenIndex.value = menuOpenIndex.value === index ? null : index\n}\n\nonClickOutside(menuRef, () => {\n\tmenuOpenIndex.value = null\n})\n\nconst showKey = (key: string) => {\n\tlet columnsLower = columns.value.map((col) =>\n\t\tcol.toLowerCase().split(' ').join('_')\n\t)\n\treturn columnsLower.includes(key)\n}\n</script>\n","<template>\n\t<Dialog v-model=\"show\" :options=\"{ size: '4xl' }\">\n\t\t<template #body-title>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"text-xl font-semibold text-ink-gray-9\">\n\t\t\t\t\t{{\n\t\t\t\t\t\tprops.exerciseID === 'new'\n\t\t\t\t\t\t\t? __('Create Programming Exercise')\n\t\t\t\t\t\t\t: __('Edit Programming Exercise')\n\t\t\t\t\t}}\n\t\t\t\t</div>\n\t\t\t\t<Badge v-if=\"isDirty\" theme=\"orange\">\n\t\t\t\t\t{{ __('Not Saved') }}\n\t\t\t\t</Badge>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #body-content>\n\t\t\t<div class=\"grid grid-cols-2 gap-10\">\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"exercise.title\"\n\t\t\t\t\t\t:label=\"__('Title')\"\n\t\t\t\t\t\t:required=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"exercise.language\"\n\t\t\t\t\t\t:label=\"__('Language')\"\n\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t:options=\"languageOptions\"\n\t\t\t\t\t\t:required=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ChildTable\n\t\t\t\t\t\tv-model=\"testCases.data\"\n\t\t\t\t\t\t:label=\"__('Test Cases')\"\n\t\t\t\t\t\t:columns=\"testCaseColumns\"\n\t\t\t\t\t\t:required=\"true\"\n\t\t\t\t\t\t:addable=\"true\"\n\t\t\t\t\t\t:deletable=\"true\"\n\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t:placeholder=\"__('Add Test Case')\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-ink-gray-5 mb-2\">\n\t\t\t\t\t\t\t{{ __('Problem Statement') }}\n\t\t\t\t\t\t\t<span class=\"text-ink-red-3\">*</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t:content=\"exercise.problem_statement\"\n\t\t\t\t\t\t\t@change=\"(val: string) => (exercise.problem_statement = val)\"\n\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t:fixedMenu=\"true\"\n\t\t\t\t\t\t\teditorClass=\"prose-sm max-w-none border-b border-x border-outline-gray-modals bg-surface-gray-2 rounded-b-md py-1 px-2 min-h-[7rem] max-h-[21rem] overflow-y-auto\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #actions=\"{ close }\">\n\t\t\t<div class=\"flex justify-end space-x-2 group\">\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"exerciseID != 'new'\"\n\t\t\t\t\t@click=\"deleteExercise(close)\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\ttheme=\"red\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<Trash2 class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ __('Delete') }}\n\t\t\t\t</Button>\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'ProgrammingExerciseSubmission',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\texerciseID: props.exerciseID,\n\t\t\t\t\t\t\tsubmissionID: 'new',\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<Button>\n\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t<Play class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ __('Test this Exercise') }}\n\t\t\t\t\t</Button>\n\t\t\t\t</router-link>\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'ProgrammingExerciseSubmissions',\n\t\t\t\t\t\tquery: {\n\t\t\t\t\t\t\texercise: props.exerciseID,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<Button>\n\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t<ClipboardList class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ __('Check Submission') }}\n\t\t\t\t\t</Button>\n\t\t\t\t</router-link>\n\t\t\t\t<Button variant=\"solid\" @click=\"saveExercise(close)\">\n\t\t\t\t\t{{ __('Save') }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup lang=\"ts\">\nimport { computed, ref, watch } from 'vue'\nimport { escapeHTML } from '@/utils'\nimport {\n\tBadge,\n\tButton,\n\tcreateListResource,\n\tDialog,\n\tFormControl,\n\tTextEditor,\n\ttoast,\n} from 'frappe-ui'\nimport {\n\tProgrammingExercise,\n\tProgrammingExercises,\n\tTestCase,\n} from '@/types/programming-exercise'\nimport { ClipboardList, Play, Trash2 } from 'lucide-vue-next'\nimport ChildTable from '@/components/Controls/ChildTable.vue'\n\nconst show = defineModel()\nconst exercises = defineModel<ProgrammingExercises>('exercises')\nconst isDirty = ref(false)\nconst originalTestCaseCount = ref(0)\n\nconst exercise = ref<ProgrammingExercise>({\n\ttitle: '',\n\tlanguage: 'Python',\n\tproblem_statement: '',\n\ttest_cases: [],\n})\n\nconst languageOptions = [\n\t{ label: 'Python', value: 'Python' },\n\t{ label: 'JavaScript', value: 'JavaScript' },\n]\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\texerciseID: string\n\t}>(),\n\t{\n\t\texerciseID: 'new',\n\t}\n)\n\nwatch(\n\t() => props.exerciseID,\n\t() => {\n\t\tsetExerciseData()\n\t\tfetchTestCases()\n\t}\n)\n\nconst setExerciseData = () => {\n\tlet isNew = true\n\texercises.value?.data.forEach((ex: ProgrammingExercise) => {\n\t\tif (ex.name === props.exerciseID) {\n\t\t\tisNew = false\n\t\t\texercise.value = { ...ex }\n\t\t}\n\t})\n\n\tif (isNew) {\n\t\texercise.value = {\n\t\t\ttitle: '',\n\t\t\tlanguage: 'Python',\n\t\t\tproblem_statement: '',\n\t\t\ttest_cases: [],\n\t\t}\n\t}\n\tisDirty.value = false\n}\n\nconst testCases = createListResource({\n\tdoctype: 'LMS Test Case',\n\tfields: ['input', 'expected_output', 'name'],\n\tcache: ['testCases', props.exerciseID],\n\tparent: 'LMS Programming Exercise',\n\torderBy: 'idx',\n\tonSuccess(data: TestCase[]) {\n\t\tisDirty.value = false\n\t\toriginalTestCaseCount.value = data.length\n\t},\n\tonError(err: any) {\n\t\ttoast.error(__(err.messages?.[0] || err))\n\t\tconsole.error('Error loading testCases:', err)\n\t},\n})\n\nconst fetchTestCases = () => {\n\ttestCases.update({\n\t\tfilters: {\n\t\t\tparent: props.exerciseID,\n\t\t\tparenttype: 'LMS Programming Exercise',\n\t\t\tparentfield: 'test_cases',\n\t\t},\n\t})\n\ttestCases.reload()\n\toriginalTestCaseCount.value = testCases.data.length\n}\n\nconst validateTitle = () => {\n\texercise.value.title = escapeHTML(exercise.value.title.trim())\n}\n\nwatch(\n\texercise,\n\t() => {\n\t\tisDirty.value = true\n\t},\n\t{ deep: true }\n)\n\nwatch(testCases, () => {\n\tif (testCases.data.length !== originalTestCaseCount.value) {\n\t\tisDirty.value = true\n\t}\n})\n\nconst updateTestCasesInExercise = () => {\n\texercise.value.test_cases = testCases.data.map(\n\t\t(tc: TestCase, index: number) => ({\n\t\t\tinput: tc.input,\n\t\t\texpected_output: tc.expected_output,\n\t\t\tidx: index + 1,\n\t\t})\n\t)\n}\n\nconst saveExercise = (close: () => void) => {\n\tvalidateTitle()\n\tupdateTestCasesInExercise()\n\tif (props.exerciseID == 'new') createNewExercise(close)\n\telse updateExercise(close)\n}\n\nconst createNewExercise = (close: () => void) => {\n\texercises.value?.insert.submit(\n\t\t{\n\t\t\t...exercise.value,\n\t\t},\n\t\t{\n\t\t\tonSuccess() {\n\t\t\t\tclose()\n\t\t\t\tisDirty.value = false\n\t\t\t\texercises.value?.reload()\n\t\t\t\ttoast.success(__('Programming Exercise created successfully'))\n\t\t\t},\n\t\t\tonError(err: any) {\n\t\t\t\ttoast.warning(__(err.messages?.[0] || err))\n\t\t\t},\n\t\t}\n\t)\n}\n\nconst updateExercise = (close: () => void) => {\n\texercises.value?.setValue.submit(\n\t\t{\n\t\t\tname: props.exerciseID,\n\t\t\t...exercise.value,\n\t\t},\n\t\t{\n\t\t\tonSuccess() {\n\t\t\t\tclose()\n\t\t\t\tisDirty.value = false\n\t\t\t\texercises.value?.reload()\n\t\t\t\ttoast.success(__('Programming Exercise updated successfully'))\n\t\t\t},\n\t\t\tonError(err: any) {\n\t\t\t\ttoast.warning(__(err.messages?.[0] || err))\n\t\t\t},\n\t\t}\n\t)\n}\n\nconst testCaseColumns = computed(() => {\n\treturn ['Input', 'Expected Output']\n})\n\nconst deleteExercise = (close: () => void) => {\n\tif (props.exerciseID == 'new') return\n\texercises.value?.delete.submit(props.exerciseID, {\n\t\tonSuccess() {\n\t\t\ttoast.success(__('Programming Exercise deleted successfully'))\n\t\t\tclose()\n\t\t},\n\t\tonError(err: any) {\n\t\t\ttoast.warning(__(err.messages?.[0] || err))\n\t\t},\n\t})\n}\n</script>\n","<template>\n\t<header\n\t\tclass=\"sticky flex items-center justify-between top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t>\n\t\t<Breadcrumbs :items=\"breadcrumbs\" />\n\t\t<div class=\"space-x-2\">\n\t\t\t<router-link\n\t\t\t\t:to=\"{\n\t\t\t\t\tname: 'ProgrammingExerciseSubmissions',\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<Button>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<ClipboardList class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ __('Check All Submissions') }}\n\t\t\t\t</Button>\n\t\t\t</router-link>\n\t\t\t<Button\n\t\t\t\tv-if=\"!readOnlyMode\"\n\t\t\t\tvariant=\"solid\"\n\t\t\t\t@click=\"\n\t\t\t\t\t() => {\n\t\t\t\t\t\texerciseID = 'new'\n\t\t\t\t\t\tshowForm = true\n\t\t\t\t\t}\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<template #prefix>\n\t\t\t\t\t<Plus class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t</template>\n\t\t\t\t{{ __('Create') }}\n\t\t\t</Button>\n\t\t</div>\n\t</header>\n\t<div class=\"p-5\">\n\t\t<div class=\"flex items-center justify-between mb-5\">\n\t\t\t<div class=\"text-lg font-semibold text-ink-gray-9\">\n\t\t\t\t{{ __('{0} Exercises').format(exerciseCount) }}\n\t\t\t</div>\n\t\t\t<div class=\"grid grid-cols-2 gap-5\">\n\t\t\t\t<FormControl\n\t\t\t\t\tv-model=\"titleFilter\"\n\t\t\t\t\t:placeholder=\"__('Search by Title')\"\n\t\t\t\t\t@input=\"updateList\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tv-model=\"languageFilter\"\n\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t:options=\"languages\"\n\t\t\t\t\t:placeholder=\"__('Type')\"\n\t\t\t\t\t@update:modelValue=\"updateList\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div v-if=\"exercises.data?.length\">\n\t\t\t<ListView\n\t\t\t\t:columns=\"columns\"\n\t\t\t\t:rows=\"exercises.data\"\n\t\t\t\trow-key=\"name\"\n\t\t\t\t:options=\"{\n\t\t\t\t\tshowTooltip: false,\n\t\t\t\t\tselectable: true,\n\t\t\t\t\tonRowClick: (row: any) => {\n\t\t\t\t\t\tif (readOnlyMode) return\n\t\t\t\t\t\texerciseID = row.name\n\t\t\t\t\t\tshowForm = true\n\t\t\t\t\t},\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<ListHeader\n\t\t\t\t\tclass=\"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2\"\n\t\t\t\t>\n\t\t\t\t</ListHeader>\n\t\t\t\t<ListRows>\n\t\t\t\t\t<ListRow\n\t\t\t\t\t\t:row=\"row\"\n\t\t\t\t\t\tv-for=\"row in exercises.data\"\n\t\t\t\t\t\tclass=\"hover:bg-surface-gray-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #default=\"{ column, item }\">\n\t\t\t\t\t\t\t<ListRowItem :item=\"row[column.key]\" :align=\"column.align\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"column.key == 'modified'\"\n\t\t\t\t\t\t\t\t\tclass=\"text-sm text-ink-gray-5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ dayjs(row[column.key]).format('MMM D, YYYY') }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t{{ row[column.key] }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</ListRowItem>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</ListRow>\n\t\t\t\t</ListRows>\n\t\t\t\t<ListSelectBanner>\n\t\t\t\t\t<template #actions=\"{ unselectAll, selections }\">\n\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t@click=\"showDeleteConfirmation(selections, unselectAll)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FeatherIcon name=\"trash-2\" class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</ListSelectBanner>\n\t\t\t</ListView>\n\t\t</div>\n\t\t<EmptyState v-else type=\"Programming Exercises\" />\n\t\t<div\n\t\t\tv-if=\"exercises.data && exercises.hasNextPage\"\n\t\t\tclass=\"flex justify-center my-5\"\n\t\t>\n\t\t\t<Button @click=\"exercises.next()\">\n\t\t\t\t{{ __('Load More') }}\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n\t<ProgrammingExerciseForm\n\t\tv-model=\"showForm\"\n\t\t:exerciseID=\"exerciseID\"\n\t\tv-model:exercises=\"exercises\"\n\t/>\n</template>\n<script setup lang=\"ts\">\nimport { computed, getCurrentInstance, inject, onMounted, ref } from 'vue'\nimport {\n\tBreadcrumbs,\n\tButton,\n\tcall,\n\tcreateListResource,\n\tdayjs,\n\tFormControl,\n\tListView,\n\tListHeader,\n\tListRows,\n\tListRow,\n\tListRowItem,\n\tFeatherIcon,\n\tListSelectBanner,\n\ttoast,\n\tusePageMeta,\n} from 'frappe-ui'\nimport { ClipboardList, Plus } from 'lucide-vue-next'\nimport { sessionStore } from '@/stores/session'\nimport { useRouter } from 'vue-router'\nimport ProgrammingExerciseForm from '@/pages/ProgrammingExercises/ProgrammingExerciseForm.vue'\n\nconst exerciseCount = ref<number>(0)\nconst readOnlyMode = window.read_only_mode\nconst { brand } = sessionStore()\nconst showForm = ref<boolean>(false)\nconst exerciseID = ref<string | null>('new')\nconst user = inject<any>('$user')\nconst titleFilter = ref<string>('')\nconst languageFilter = ref<string>('')\nconst router = useRouter()\nconst app = getCurrentInstance()\nconst { $dialog } = app?.appContext.config.globalProperties\n\nonMounted(() => {\n\tvalidatePermissions()\n\tgetExerciseCount()\n})\n\nconst validatePermissions = () => {\n\tif (\n\t\t!user.data?.is_instructor &&\n\t\t!user.data?.is_moderator &&\n\t\t!user.data?.is_evaluator\n\t) {\n\t\trouter.push({\n\t\t\tname: 'ProgrammingExerciseSubmissions',\n\t\t})\n\t}\n}\n\nconst getExerciseCount = (filters: any = {}) => {\n\tcall('frappe.client.get_count', {\n\t\tdoctype: 'LMS Programming Exercise',\n\t\tfilters: filters,\n\t})\n\t\t.then((count: number) => {\n\t\t\texerciseCount.value = count\n\t\t})\n\t\t.catch((error: any) => {\n\t\t\tconsole.error('Error fetching exercise count:', error)\n\t\t})\n}\n\nconst exercises = createListResource({\n\tdoctype: 'LMS Programming Exercise',\n\tcache: ['programmingExercises'],\n\tfields: ['name', 'title', 'language', 'problem_statement', 'modified'],\n\tauto: true,\n\torderBy: 'modified desc',\n})\n\nconst updateList = () => {\n\tlet filters = getFilters()\n\texercises.update({\n\t\tfilters: filters,\n\t})\n\texercises.reload()\n\tgetExerciseCount(filters)\n}\n\nconst getFilters = () => {\n\tlet filters: any = {}\n\tif (titleFilter.value) {\n\t\tfilters['title'] = ['like', `%${titleFilter.value}%`]\n\t}\n\tif (languageFilter.value && languageFilter.value.trim() !== '') {\n\t\tfilters['language'] = languageFilter.value\n\t}\n\treturn filters\n}\n\nconst showDeleteConfirmation = (\n\tselections: Set<string>,\n\tunselectAll: () => void\n) => {\n\t$dialog({\n\t\ttitle: __('Confirm Your Action'),\n\t\tmessage: __(\n\t\t\t'Deleting these exercises will permanently remove them from the system, along with all associated submissions. This action is irreversible. Are you sure you want to proceed?'\n\t\t),\n\t\tactions: [\n\t\t\t{\n\t\t\t\tlabel: __('Delete'),\n\t\t\t\ttheme: 'red',\n\t\t\t\tvariant: 'solid',\n\t\t\t\tonClick(close: () => void) {\n\t\t\t\t\tdeleteExercises(selections, unselectAll)\n\t\t\t\t\tclose()\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t})\n}\n\nconst deleteExercises = (selections: Set<string>, unselectAll: () => void) => {\n\tArray.from(selections).forEach(async (exerciseName) => {\n\t\tcall('lms.lms.api.delete_programming_exercise', {\n\t\t\texercise: exerciseName,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\ttoast.success(__('Exercise deleted successfully'))\n\t\t\t\tupdateList()\n\t\t\t})\n\t\t\t.catch((error: any) => {\n\t\t\t\ttoast.error(__(error.message || error))\n\t\t\t\tconsole.error('Error deleting exercise:', error)\n\t\t\t})\n\t})\n\tunselectAll()\n}\n\nconst languages = [\n\t{ label: ' ', value: ' ' },\n\t{ label: 'Python', value: 'Python' },\n\t{ label: 'JavaScript', value: 'JavaScript' },\n]\n\nconst columns = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Title'),\n\t\t\tkey: 'title',\n\t\t\twidth: 3,\n\t\t},\n\t\t{\n\t\t\tlabel: __('Language'),\n\t\t\tkey: 'language',\n\t\t\twidth: 2,\n\t\t\talign: 'left',\n\t\t},\n\t\t{\n\t\t\tlabel: __('Updated On'),\n\t\t\tkey: 'modified',\n\t\t\twidth: 1,\n\t\t},\n\t]\n})\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: __('Programming Exercises'),\n\t\ticon: brand.favicon,\n\t}\n})\n\nconst breadcrumbs = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Programming Exercises'),\n\t\t\troute: { name: 'ProgrammingExercises' },\n\t\t},\n\t]\n})\n</script>\n"],"names":["rows","_useModel","__props","menuRef","ref","menuOpenIndex","emit","__emit","columns","watch","addRow","newRow","column","focusNewRowInput","nextTick","firstInput","deleteRow","index","_a","getGridTemplateColumns","toggleMenu","event","onClickOutside","showKey","key","col","_createElementBlock","_createElementVNode","_hoisted_1","_toDisplayString","_hoisted_2","_hoisted_3","_openBlock","_Fragment","_renderList","row","rowIndex","$event","_vModelText","_hoisted_5","_createVNode","_unref","Button","Ellipsis","Trash2","__","_hoisted_7","Plus","_createTextVNode","show","exercises","isDirty","originalTestCaseCount","exercise","languageOptions","props","setExerciseData","fetchTestCases","isNew","ex","testCases","createListResource","data","err","toast","validateTitle","escapeHTML","updateTestCasesInExercise","tc","saveExercise","close","createNewExercise","updateExercise","testCaseColumns","computed","deleteExercise","_createBlock","Dialog","Badge","_hoisted_4","FormControl","_cache","ChildTable","TextEditor","val","_withCtx","_hoisted_6","_component_router_link","Play","ClipboardList","exerciseCount","readOnlyMode","brand","sessionStore","showForm","exerciseID","user","inject","titleFilter","languageFilter","router","useRouter","app","getCurrentInstance","$dialog","onMounted","validatePermissions","getExerciseCount","_b","_c","filters","call","count","error","updateList","getFilters","showDeleteConfirmation","selections","unselectAll","deleteExercises","exerciseName","languages","usePageMeta","breadcrumbs","Breadcrumbs","ListView","ListHeader","ListRows","ListRow","item","ListRowItem","_hoisted_8","dayjs","_hoisted_9","ListSelectBanner","_hoisted_10","FeatherIcon","_component_EmptyState","_hoisted_11","ProgrammingExerciseForm"],"mappings":"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"}